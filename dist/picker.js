!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.dailyEmojiPicker=e():t.dailyEmojiPicker=e()}(window,function(){return function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){var o,n,s;n=[],void 0===(s="function"==typeof(o=function(){function t(t,e,i){function o(){return window.innerWidth||r.documentElement.clientWidth||document.body.clientWidth}function n(t){return t.getBoundingClientRect().top+l-r.documentElement.clientTop}function s(t){return t.getBoundingClientRect().left+a-r.documentElement.clientLeft}var r,l,a;return r=t.ownerDocument,l=window.pageYOffset||r.body.scrollTop,a=window.pageXOffset||r.body.scrollLeft,!((e===window?(window.innerHeight||r.documentElement.clientHeight||document.body.clientHeight)+l:n(e)+e.offsetHeight)<=n(t)-i||(e===window?l:n(e))>=n(t)+i+t.offsetHeight||(e===window?o()+window.pageXOffset:s(e)+o())<=s(t)-i||(e===window?a:s(e))>=s(t)+i+t.offsetWidth)}function e(){var t=new Date;return t.getTime()}function i(t,e){return function(){return t.apply(e,arguments)}}function o(t){s||(n={elements_selector:"img",container:window,threshold:300,throttle:150,data_src:"original",data_srcset:"original-set",class_loading:"loading",class_loaded:"loaded",skip_invisible:!0,callback_load:null,callback_error:null,callback_set:null,callback_processed:null},s=!0),this._settings=function(t,e){var i,o={};for(i in t)t.hasOwnProperty(i)&&(o[i]=t[i]);for(i in e)e.hasOwnProperty(i)&&(o[i]=e[i]);return o}(n,t),this._queryOriginNode=this._settings.container===window?document:this._settings.container,this._previousLoopTime=0,this._loopTimeout=null,this._handleScrollFn=i(this.handleScroll,this),window.addEventListener("resize",this._handleScrollFn),this.update()}var n,s=!1;return o.prototype._showOnAppear=function(t){function e(){t.removeEventListener("load",i),t.classList.remove(o.class_loading),o.callback_error&&o.callback_error(t)}function i(){null!==o&&(o.callback_load&&o.callback_load(t),t.classList.remove(o.class_loading),t.classList.add(o.class_loaded),t.removeEventListener("load",i),t.removeEventListener("error",e))}var o=this._settings;"IMG"!==t.tagName&&"IFRAME"!==t.tagName||(t.addEventListener("load",i),t.addEventListener("error",e),t.classList.add(o.class_loading)),function(t,e,i){var o=t.tagName,n=t.getAttribute("data-"+i);if("IMG"===o){!function(t,e){var i=t.parentElement;if("PICTURE"===i.tagName)for(var o=0;o<i.children.length;o++){var n=i.children[o];if("SOURCE"===n.tagName){var s=n.getAttribute("data-"+e);s&&n.setAttribute("srcset",s)}}}(t,e);var s=t.getAttribute("data-"+e);return s&&t.setAttribute("srcset",s),void(n&&t.setAttribute("src",n))}"IFRAME"===o?n&&t.setAttribute("src",n):n&&(t.style.backgroundImage="url("+n+")")}(t,o.data_srcset,o.data_src),o.callback_set&&o.callback_set(t)},o.prototype._loopThroughElements=function(){var e,i,o=this._settings,n=this._elements,s=n?n.length:0,r=[];for(e=0;e<s;e++)i=n[e],o.skip_invisible&&null===i.offsetParent||t(i,o.container,o.threshold)&&(this._showOnAppear(i),r.push(e),i.wasProcessed=!0);for(;r.length>0;)n.splice(r.pop(),1),o.callback_processed&&o.callback_processed(n.length);0===s&&this._stopScrollHandler()},o.prototype._purgeElements=function(){var t,e=this._elements,i=e.length,o=[];for(t=0;t<i;t++)e[t].wasProcessed&&o.push(t);for(;o.length>0;)e.splice(o.pop(),1)},o.prototype._startScrollHandler=function(){this._isHandlingScroll||(this._isHandlingScroll=!0,this._settings.container.addEventListener("scroll",this._handleScrollFn))},o.prototype._stopScrollHandler=function(){this._isHandlingScroll&&(this._isHandlingScroll=!1,this._settings.container.removeEventListener("scroll",this._handleScrollFn))},o.prototype.handleScroll=function(){var t,o,n;this._settings&&(o=e(),0!==(n=this._settings.throttle)?(t=n-(o-this._previousLoopTime))<=0||t>n?(this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._previousLoopTime=o,this._loopThroughElements()):this._loopTimeout||(this._loopTimeout=setTimeout(i(function(){this._previousLoopTime=e(),this._loopTimeout=null,this._loopThroughElements()},this),t)):this._loopThroughElements())},o.prototype.update=function(){this._elements=function(t){return Array.prototype.slice.call(t)}(this._queryOriginNode.querySelectorAll(this._settings.elements_selector)),this._purgeElements(),this._loopThroughElements(),this._startScrollHandler()},o.prototype.destroy=function(){window.removeEventListener("resize",this._handleScrollFn),this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._stopScrollHandler(),this._elements=null,this._queryOriginNode=null,this._settings=null},o})?o.apply(e,n):o)||(t.exports=s)},function(t,e,i){"use strict";i.r(e),i.d(e,"EmojiPicker",function(){return u});var o=i(0),n=i.n(o);var s=function(t){!function(t){new n.a(t)}({container:t,elements_selector:".lazy",threshold:50,load_delay:100})};class r{static getElement(t){const{name:e,relative_path:i}=t,o=document.createElement("div");o.classList.add("emoji-block__item","js-emoji"),o.setAttribute("data-emoji",e),o.setAttribute("data-src",i);const n=document.createElement("div");return n.classList.add("emoji-block__item-image","lazy"),n.setAttribute("data-original",i),o.append(n),o}static getContent(t,e,i){const o=document.createElement("div");o.classList.add("emoji-block__wrap","js-emoji-group"),o.setAttribute("data-group",t);for(let t=0;t<e.length;t++)o.append(this.getElement(e[t]));return s(o),t===i&&o.classList.add("is-active"),o}}class l{static getElement(t){const e=document.createElement("div");e.classList.add("emoji-block__groups-item","js-emoji-panel-item"),e.setAttribute("data-tab",t),t===this.activeGroup&&e.classList.add("is-active");const i=document.createElement("span");return i.classList.add(`sprite-${t}`),e.append(i),e}static getContent(t,e){this.activeGroup=e;const i=document.createElement("div");i.classList.add("emoji-block__groups","js-emoji-panel");for(let e=0;e<t.length;e++)i.append(this.getElement(t[e]));return i}}class a{constructor(t,e,i){this.container=t,this.data=e,this.activeGroup=i}get template(){const t=document.createElement("div");t.classList.add("emoji-block","js-emoji-block");const e=Object.keys(this.data);return e.forEach(e=>{const i=this.data[e];t.append(r.getContent(e,i,this.activeGroup))}),t.append(l.getContent(e,this.activeGroup)),t}render(){this.container.append(this.template)}}class c{static subscribe(t){this.handler=t}static emit(t){this.handler(t)}}i(2);class u{constructor(t,e){this.container=t,this.getEmojiList=e.source,this.onEmojiSelected=e.onSelect,this.defaultActiveGroup=e.defaultActiveGroup||"smiles"}get activeGroup(){return this.container.querySelector(".js-emoji-group.is-active")}get activeGroupIcon(){return this.container.querySelector(".js-emoji-panel-item.is-active")}showEmoji(){this.activeGroup&&this.activeGroup.dispatchEvent(new Event("scroll"))}render(t){new a(this.container,t,this.defaultActiveGroup).render()}onEmojiClick(t){const e=t.getAttribute("data-emoji")||"",i=t.getAttribute("data-src")||"";c.emit({emoji:e,emoji_src:i}),this.emojiBlock&&this.emojiBlock.classList.remove("is-show")}showGroup(t){const e=t.getAttribute("data-tab");this.activeGroupIcon&&this.activeGroupIcon.classList.remove("is-active"),t.classList.add("is-active"),this.activeGroup&&this.activeGroup.classList.remove("is-active");const i=this.container.querySelector(`[data-group=${e}]`);i&&i.classList.add("is-active"),this.showEmoji()}setElements(){this.emojiBlock=this.container.querySelector(".js-emoji-block")}addListeners(){this.emojiBlock&&this.emojiBlock.addEventListener("click",t=>{const e=t.target;e.closest(".js-emoji-panel")?this.showGroup(e):e.classList.contains("js-emoji")&&this.onEmojiClick(e)}),c.subscribe(this.onEmojiSelected)}init(){this.getEmojiList().then(t=>{this.render(t),this.showEmoji(),this.setElements(),this.addListeners()})}}},function(t,e){}])});